<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<title>Colonial America Mock-Gov SAT Exam</title>
<style>
:root {
  --bg: #0f1724;
  --panel: #1a2437;
  --input-bg: #111a2b;
  --accent: #2563eb;
  --accent-hover: #1d4ed8;
  --secondary: #374151;
  --secondary-hover: #4b5563;
  --correct: #16a34a;
  --wrong: #dc2626;
}
* { box-sizing: border-box; }
html, body { margin:0; padding:0; background: var(--bg); color:white; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; font-size:18px;}
body { display:flex; align-items:center; justify-content:center; min-height:100vh; padding:20px;}
.card { background: var(--panel); width:100%; max-width:650px; border-radius:14px; padding:24px; box-shadow:0 6px 30px rgba(0,0,0,0.6); overflow-y:auto; max-height:90vh; position:relative;}
h2 { text-align:center; margin:0 0 16px 0; font-size:1.6rem;}
.question { margin-bottom:22px;}
.question h3 { margin-bottom:10px; font-size:1.1rem;}
label { display:block; margin-bottom:6px; background: var(--input-bg); padding:10px; border-radius:8px; cursor:pointer; border:1px solid #24324a; transition: background 0.2s, border-color 0.2s;}
input[type="radio"] { margin-right:8px;}
label:hover { background:#16223b; border-color: var(--accent);}
.correct { border-color: var(--correct); background: rgba(22,163,74,0.15);}
.wrong { border-color: var(--wrong); background: rgba(220,38,38,0.15);}
.buttons { display:flex; gap:12px; justify-content:center; margin-top:16px;}
button { flex:1; background: var(--accent); color:white; border:none; border-radius:10px; padding:14px; font-size:1.05rem; font-weight:600; cursor:pointer; transition: background 0.2s;}
button:hover { background: var(--accent-hover);}
button.secondary { background: var(--secondary);}
button.secondary:hover { background: var(--secondary-hover);}
.result { text-align:center; margin-top:18px; font-weight:bold;}
.summary-box { margin-top:16px; background: var(--input-bg); border-radius:10px; padding:12px; border:1px solid #24324a; font-size:0.95rem; white-space: pre-line;}
.locked { text-align:center; padding:20px; margin-bottom:12px; border-radius:10px; background: var(--input-bg); border:1px solid #24324a;}
.popup-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; z-index:1000;}
.popup { background:var(--panel); padding:24px; border-radius:14px; max-width:400px; width:90%; text-align:center;}
.popup input { width:80%; padding:10px; margin:12px 0; border-radius:8px; border:1px solid #24324a; background: var(--input-bg); color:white; font-size:1rem;}
.popup button { padding:10px 16px; margin-top:10px; font-size:1rem; border:none; border-radius:8px; cursor:pointer; background:var(--accent); color:white;}
.popup button:hover { background:var(--accent-hover);}
@media (max-width:400px) { html, body{font-size:17px;} h2{font-size:1.4rem;} button{font-size:1rem; padding:12px;} .popup input{width:100%;} }
</style>
</head>
<body>

<div class="popup-overlay" id="usernamePopup">
  <div class="popup">
    <h3>Enter your Discord username</h3>
    <input type="text" id="usernameInput" placeholder="e.g. User#1234">
    <button id="continueBtn">Continue</button>
  </div>
</div>

<div class="card" id="card" style="display:none;">
  <h2>Colonial America Mock-Gov SAT Exam</h2>

  <div class="locked" id="lockedMessage" style="display:none;">
    You have already completed the exam.<br><br>
    To retake it, you must receive permission from the Chief Justice.<br><br>
    <input type="text" id="accessCode" placeholder="Enter permission code">
    <button id="unlockBtn">Unlock Exam</button>
  </div>

  <form id="quizForm" style="display:none;">
    <!-- Questions 1-15 -->
    <div class="question" data-answer="A">
      <h3>1. A farmer in Virginia signs a contract to deliver 50 barrels of tobacco to a merchant but delivers only 25. What is the most likely legal issue?</h3>
      <label><input type="radio" name="q1" value="A">A) Breach of contract</label>
      <label><input type="radio" name="q1" value="B">B) Treason</label>
      <label><input type="radio" name="q1" value="C">C) Libel</label>
      <label><input type="radio" name="q1" value="D">D) Negligence</label>
    </div>
    <div class="question" data-answer="A">
      <h3>2. A colonial newspaper prints an article calling the royal governor “a tyrant unfit to rule.” Which legal defense might the printer use?</h3>
      <label><input type="radio" name="q2" value="A">A) Freedom of the press</label>
      <label><input type="radio" name="q2" value="B">B) Habeas corpus</label>
      <label><input type="radio" name="q2" value="C">C) Trial by ordeal</label>
      <label><input type="radio" name="q2" value="D">D) Royal pardon</label>
    </div>
    <div class="question" data-answer="B">
      <h3>3. A blacksmith is accused of stealing a horse but claims he bought it honestly. What kind of case is this?</h3>
      <label><input type="radio" name="q3" value="A">A) Civil case</label>
      <label><input type="radio" name="q3" value="B">B) Criminal case</label>
      <label><input type="radio" name="q3" value="C">C) Ecclesiastical case</label>
      <label><input type="radio" name="q3" value="D">D) Admiralty case</label>
    </div>
    <div class="question" data-answer="A">
      <h3>4. A sailor signs a contract in Boston but the captain refuses to pay him after the voyage. Where would the sailor bring his case in 1776?</h3>
      <label><input type="radio" name="q4" value="A">A) Admiralty court</label>
      <label><input type="radio" name="q4" value="B">B) Ecclesiastical court</label>
      <label><input type="radio" name="q4" value="C">C) Military tribunal</label>
      <label><input type="radio" name="q4" value="D">D) House of Commons</label>
    </div>
    <div class="question" data-answer="B">
      <h3>5. A colonial assembly passes a law raising taxes without the governor’s approval. Under British rule, who could veto this?</h3>
      <label><input type="radio" name="q5" value="A">A) The local sheriff</label>
      <label><input type="radio" name="q5" value="B">B) The royal governor</label>
      <label><input type="radio" name="q5" value="C">C) The militia</label>
      <label><input type="radio" name="q5" value="D">D) The town crier</label>
    </div>
    <div class="question" data-answer="B">
      <h3>6. A man is arrested for “sedition against the Crown.” What would that mean?</h3>
      <label><input type="radio" name="q6" value="A">A) He refused to pay debts</label>
      <label><input type="radio" name="q6" value="B">B) He plotted or spoke against royal authority</label>
      <label><input type="radio" name="q6" value="C">C) He stole from the church</label>
      <label><input type="radio" name="q6" value="D">D) He avoided jury duty</label>
    </div>
    <div class="question" data-answer="C">
      <h3>7. A Boston printer sues for nonpayment for pamphlets he made for a revolutionary group. Which law principle gives him that right?</h3>
      <label><input type="radio" name="q7" value="A">A) Habeas corpus</label>
      <label><input type="radio" name="q7" value="B">B) Due process</label>
      <label><input type="radio" name="q7" value="C">C) Contract law</label>
      <label><input type="radio" name="q7" value="D">D) Natural rights</label>
    </div>
    <div class="question" data-answer="B">
      <h3>8. A court rules a man must surrender land after losing a case. What is the term for the winner?</h3>
      <label><input type="radio" name="q8" value="A">A) Defendant</label>
      <label><input type="radio" name="q8" value="B">B) Plaintiff</label>
      <label><input type="radio" name="q8" value="C">C) Magistrate</label>
      <label><input type="radio" name="q8" value="D">D) Witness</label>
    </div>
    <div class="question" data-answer="A">
      <h3>9. A citizen is arrested without being told the crime or given a trial. Which legal principle is violated?</h3>
      <label><input type="radio" name="q9" value="A">A) Habeas corpus</label>
      <label><input type="radio" name="q9" value="B">B) Trial by combat</label>
      <label><input type="radio" name="q9" value="C">C) Royal prerogative</label>
      <label><input type="radio" name="q9" value="D">D) Taxation without representation</label>
    </div>
    <div class="question" data-answer="A">
      <h3>10. A colonial lawyer argues that all men are born with “life, liberty, and property.” Whose ideas are these?</h3>
      <label><input type="radio" name="q10" value="A">A) John Locke</label>
      <label><input type="radio" name="q10" value="B">B) Thomas Hobbes</label>
      <label><input type="radio" name="q10" value="C">C) Montesquieu</label>
      <label><input type="radio" name="q10" value="D">D) King George III</label>
    </div>

    <!-- Questions 11-15 -->
    <div class="question" data-answer="C">
      <h3>11. What is the main purpose of a Supreme Court?</h3>
      <label><input type="radio" name="q11" value="A">A) To enforce taxes</label>
      <label><input type="radio" name="q11" value="B">B) To write new laws</label>
      <label><input type="radio" name="q11" value="C">C) To interpret laws and decide if they are constitutional</label>
      <label><input type="radio" name="q11" value="D">D) To appoint governors</label>
    </div>

    <div class="question" data-answer="B">
      <h3>12. In early America, who represented the government in court?</h3>
      <label><input type="radio" name="q12" value="A">A) Chief Justice</label>
      <label><input type="radio" name="q12" value="B">B) Attorney General</label>
      <label><input type="radio" name="q12" value="C">C) Governor</label>
      <label><input type="radio" name="q12" value="D">D) Sheriff</label>
    </div>

    <div class="question" data-answer="A">
      <h3>13. A dispute arises between two colonies over trade rights. Who has authority to decide?</h3>
      <label><input type="radio" name="q13" value="A">A) Supreme Court</label>
      <label><input type="radio" name="q13" value="B">B) President</label>
      <label><input type="radio" name="q13" value="C">C) Governor</label>
      <label><input type="radio" name="q13" value="D">D) Colonial militia</label>
    </div>

    <div class="question" data-answer="D">
      <h3>14. If the Supreme Court declares a new law “unconstitutional,” what does that mean?</h3>
      <label><input type="radio" name="q14" value="A">A) The law needs minor edits</label>
      <label><input type="radio" name="q14" value="B">B) The law was not signed by the King</label>
      <label><input type="radio" name="q14" value="C">C) The law violates local custom</label>
      <label><input type="radio" name="q14" value="D">D) The law conflicts with the Constitution and cannot be enforced</label>
    </div>

    <div class="question" data-answer="C">
      <h3>15. The Attorney General gives legal advice to the President. This shows:</h3>
      <label><input type="radio" name="q15" value="A">A) Legislative power</label>
      <label><input type="radio" name="q15" value="B">B) Judicial review</label>
      <label><input type="radio" name="q15" value="C">C) Chief legal advisor role</label>
      <label><input type="radio" name="q15" value="D">D) Executive order</label>
    </div>

  </form>

  <div class="buttons">
    <button type="button" id="check">Check Answers</button>
    <button type="reset" class="secondary" id="resetBtn">Reset Quiz</button>
  </div>

  <div class="result" id="result"></div>
  <div class="summary-box" id="summary" style="display:none;"></div>
</div>

<script>
const usernamePopup = document.getElementById('usernamePopup');
const continueBtn = document.getElementById('continueBtn');
const usernameInput = document.getElementById('usernameInput');
const quizForm = document.getElementById('quizForm');
const card = document.getElementById('card');
const lockedMessage = document.getElementById('lockedMessage');
const unlockBtn = document.getElementById('unlockBtn');
const accessCodeInput = document.getElementById('accessCode');
const permissionCode = "ALLOW1776"; // Change this code as needed

let username = "";

// --- Username popup ---
continueBtn.addEventListener('click', () => {
  const name = usernameInput.value.trim();
  if(name === "") { alert("Please enter your Discord username."); return; }
  username = name;
  usernamePopup.style.display = "none";

  if(localStorage.getItem('barExamTaken') === 'true') {
    lockedMessage.style.display = "block";
  } else {
    quizForm.style.display = "block";
  }
  card.style.display = "block";
});

// --- Access code unlock ---
unlockBtn.addEventListener('click', () => {
  if(accessCodeInput.value === permissionCode) {
    localStorage.removeItem('barExamTaken');
    location.reload();
  } else {
    alert("Incorrect code. Permission denied.");
  }
});

// --- Quiz scoring ---
document.getElementById('check').addEventListener('click', () => {
  const questions = document.querySelectorAll('.question');
  let score = 0;
  const results = [];
  questions.forEach((q,i)=>{
    const answer = q.dataset.answer;
    const labels = q.querySelectorAll('label');
    labels.forEach(l=>l.classList.remove('correct','wrong'));
    const selected = q.querySelector('input[type="radio"]:checked');
    if(selected){
      if(selected.value === answer){
        score++;
        selected.parentElement.classList.add('correct');
        results.push(`Q${i+1}: ✅ Correct`);
      } else {
        selected.parentElement.classList.add('wrong');
        q.querySelector(`input[value="${answer}"]`).parentElement.classList.add('correct');
        results.push(`Q${i+1}: ❌ Incorrect`);
      }
    } else {
      q.querySelector(`input[value="${answer}"]`).parentElement.classList.add('correct');
      results.push(`Q${i+1}: ❌ Not answered`);
    }
  });

  const total = questions.length;
  const passed = score >= 11;
  document.getElementById('result').textContent = passed 
    ? `✅ You passed the Colonial America Mock-Gov SAT Exam! (${score}/${total})`
    : `❌ You failed the Colonial America Mock-Gov SAT Exam. (${score}/${total})`;

  const summaryBox = document.getElementById('summary');
  summaryBox.style.display = 'block';
  summaryBox.textContent = `Username: ${username}\n\n` + results.join('\n') +
    `\n\n📜 Please take a screenshot of this summary and send it to the Chief Justice of the Supreme Court for official record-keeping (fictional).`;

  localStorage.setItem('barExamTaken','true');
});

// --- Reset button ---
document.getElementById('resetBtn').addEventListener('click', ()=>{
  document.getElementById('result').textContent = '';
  const summary = document.getElementById('summary');
  summary.textContent = '';
  summary.style.display = 'none';
  document.querySelectorAll('label').forEach(l=>l.classList.remove('correct','wrong'));
});
</script>

</body>
</html>
